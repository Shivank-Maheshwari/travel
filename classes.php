<?php	session_start();	require_once('connectvars.php');	require_once('functions.php');		class user	{		private $username;		private $password;		private $fname;		public function __construct()		{				$arg=func_get_args();			$username=$arg[0];			//find user details from database using value(username) passed to constructor			$query = "SELECT username FROM users WHERE username = '$username'";			$dbc=getConnect();			$data = mysqli_query($dbc, $query);			$row = mysqli_fetch_array($data);			$this->username=$row['username'];			$this->password=$row['password'];			$this->fname=$row['fname'];			/*$args=func_get_args();			$this->name=$args[0];			$this->age=$args[1];			$this->email=$args[2];*/		}		public function get()		{			return (array)$this;		}	}		class login	{		private $username;		private $password;		public function __construct()		{			$args=func_get_args();			/*foreach($args as $f)				foreach($f as $d)					echo $d;*/			$this->username=$args[0]['username'];			//echo $this->username;			//echo 'qp';			$this->password=$args[0]['password'];						}		public function check()		{			//echo 'h';			//search user in database			$query = "SELECT username,id FROM user_login WHERE username = '$this->username' AND password = SHA('$this->password')";			//echo $query;			$dbc=getConnect();			$data = mysqli_query($dbc, $query);			//echo mysqli_num_rows($data);			if (mysqli_num_rows($data) == 1) {				// The log-in is OK so set the user ID and username session vars (and cookies), and redirect to the home page				$row = mysqli_fetch_array($data);				//$_SESSION['user_id'] = $row['id'];				$_SESSION['username'] = $row['username'];				$_SESSION['user_id'] = $row['id'];				//setcookie('user_id', $row['id'], time() + (60 * 60 * 24 * 30));    // expires in 30 days				setcookie('username', $row['username'], time() + (60 * 60 * 24 * 30)); //expires in 30 days				setcookie('user_id', $row['id'], time() + (60 * 60 * 24 * 30)); //expires in 30 days				$x= $row['username'];  				//echo $x;				return $x;								/*$query = "SELECT * FROM user_feed WHERE id = $x";		  				$row= mysqli_query($dbc, $query);		  				if (mysqli_num_rows($row) == 0) {					$home_url = 'http://' . $_SERVER['HTTP_HOST'] . dirname($_SERVER['PHP_SELF']) . '/complete.php';					header('Location: ' . $home_url);					}				else{					$home_url = 'http://' . $_SERVER['HTTP_HOST'] . dirname($_SERVER['PHP_SELF']) . '/home.php';					header('Location: ' . $home_url);					}*/				}			else {			// The username/password are incorrect so set an error message				$error_msg = 'Sorry, you must enter a valid username and password to log in.';				return false;				}			}	}		class userdetails	{		private $username;		private $password;		private $fname;		public function __construct()		{			//echo 'password is: '.$_POST['password'];			$details=func_get_args();			$this->username=$details[0]['username'];			$this->password=$details[0]['password'];			$this->fname=$details[0]['fname'];			//echo $details;			/*foreach($this->details as $d)				foreach($d as $s)					echo $s;		*/		}		public function dbinsert()		{				$db=getConnect();			//echo $this->db;						/*echo 'username is: '.$this->username;			echo 'array is: ';			foreach($this->details as $d)				foreach($d as $s)					echo $s;			*/						$query= "INSERT INTO user_info (username, password,fname) VALUES ('$this->username', SHA('$this->password'),'$this->fname')";			$r= mysqli_query($db, $query);					if($r==1)				return true;			else				return false;		}				}?>